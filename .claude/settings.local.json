{
  "permissions": {
    "allow": [
      "Bash(npm outdated)",
      "Bash(node:*)",
      "Bash(netstat -ano)",
      "Bash(findstr :3000)",
      "Bash(tasklist)",
      "Bash(findstr /I \"18656\")",
      "Bash(npm run build:*)",
      "Bash(npm run dev:*)",
      "Bash(curl:*)",
      "Bash(find:*)",
      "Bash(git stash:*)",
      "Bash(for f in \"D:\\menu-rwad\\menu-rwad\\app\\admin\"/**/page.tsx)",
      "Bash(do echo \"$f:\")",
      "Bash(wc -l \"$f\")",
      "Bash(done)",
      "Bash(git add -A)",
      "Bash(git commit -m \"$(cat <<''EOF''\nfeat(admin): enhance UI with premium micro-interactions and animations\n\n✨ Design Enhancements:\n- Added glassmorphism effects to sidebar with backdrop blur\n- Enhanced shadow system with Apple-like depth (xs, sm, md, lg, xl, 2xl)\n- Refined border radii and spacing for cleaner aesthetics\n- Improved card hover states with lift effects and subtle glow\n\n🎨 Animation Improvements:\n- Integrated Framer Motion for smooth page transitions\n- Added staggered animations to sidebar navigation items\n- Implemented spring animations for icon hovers\n- Added ripple effect to buttons on click\n- Smooth collapse/expand animations for sidebar\n\n💫 Micro-Interactions:\n- Enhanced button states with shine effect on hover\n- Premium input focus states with ring and lift\n- Improved skeleton loading with diagonal shimmer\n- Animated overlay fade for mobile menu\n- Icon rotation and scale animations\n\n🔧 Technical Improvements:\n- Separated admin/public layout contexts for isolation\n- Fixed duplicate showMessage declarations (branches, modifiers, promotions, qrcodes)\n- Added PublicLayoutWrapper for conditional provider wrapping\n- Updated cache keys for admin vs public separation\n- Implemented smooth page transitions with AnimatePresence\n\n📦 New Components:\n- PublicLayoutWrapper for route-based provider isolation\n- Enhanced admin component library (Card, Button, Input, etc.)\n- Alert system with fade animations\n\n🚀 Performance:\n- Optimized animation timing functions\n- Added will-change for transform/shadow properties\n- Respect prefers-reduced-motion for accessibility\n- Lightweight shimmer effect with gradient animation\n\nAll functionality preserved - purely visual and animation enhancements.\nBuild tested and passing.\n\n🤖 Generated with Claude Code\nEOF\n)\")",
      "Bash(git push origin master)",
      "Bash(dir .nextBUILD_ID)",
      "Bash(test -f .next/BUILD_ID)",
      "Bash(git commit -m \"fix(admin): correct layout so content renders next to sidebar\n\n- Fixed admin layout structure to prevent content dropping below sidebar\n- Maintained margin-right transitions for collapsed/expanded states\n- Kept sidebar fixed positioning with proper z-index\n- Ensured responsive behavior on mobile devices\n\nLayout now properly displays sidebar and content side-by-side.\")",
      "Bash(npm install jsonwebtoken jose @types/jsonwebtoken)",
      "Bash(git commit -m \"feat(auth): implement secure JWT-based authentication system\n\n🔐 Security Enhancements:\n- Replaced plain text passwords with bcrypt hashing (12 rounds)\n- Implemented JWT tokens with access (7d) and refresh (30d) tokens\n- Added HTTP-only secure cookies for token storage\n- Implemented account lockout after 5 failed login attempts (30min lock)\n- Case-insensitive username login\n- Password complexity validation\n\n🆕 New Features:\n- JWT token generation and verification (lib/auth/jwt.ts)\n- Secure password hashing utilities (lib/auth/password.ts)\n- Auth middleware for API route protection (lib/auth/middleware.ts)\n- Login API with lockout protection (app/api/auth/login/route.ts)\n- Logout API endpoint (app/api/auth/logout/route.ts)\n- Auth verification endpoint (app/api/auth/me/route.ts)\n- Updated seed script with hashed passwords (app/api/auth/seed/route.ts)\n\n📦 Dependencies Added:\n- jsonwebtoken & jose for JWT handling\n- @types/jsonwebtoken for TypeScript support\n\n📝 Model Updates:\n- Added email, failedLoginAttempts, lockUntil fields to User model\n- Added password hashing middleware (pre-save hook)\n- Added comparePassword method for verification\n- Added indexes for email field\n\n🎯 Updated Components:\n- RoleBasedAuth now uses JWT tokens\n- Logout calls API to clear HTTP-only cookies\n- Login stores token in localStorage as backup\n- credentials: ''include'' for cookie handling\n\n📄 Documentation:\n- Added comprehensive AUTH_README.md\n- Added .env.example with JWT_SECRET\n- Demo credentials updated to Admin@2024, Kitchen@2024, etc.\n\n🔑 New Demo Credentials:\n- admin / Admin@2024 (Full access)\n- kitchen / Kitchen@2024 (Kitchen orders)\n- barista / Barista@2024 (Barista orders)\n- shisha / Shisha@2024 (Shisha orders)\n\n⚠️ Breaking Changes:\n- Old plain text passwords won''t work\n- Must run POST /api/auth/seed to create users with hashed passwords\n- Users must log in again with new credentials\n\n🤖 Generated with Claude Code\")",
      "Bash(git commit -m \"fix(auth): update login page to show new secure passwords\")"
    ],
    "deny": [],
    "ask": []
  }
}
